<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Lecture 10: Python advanced topics - IO, Monte Carlo, wrappers and interoperability | Scientific Computing with Python</title>
<link rel="stylesheet" href="/python/css/prismOkaidia.css">
<script src="/python/js/prismOkaidia.js"></script>
<!--
<link rel="stylesheet" href="/python/css/syntax.css">
-->
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/python/css/bootstrap.min.css">



<link rel="stylesheet" href="/python/css/customstyles.css">
<link rel="stylesheet" href="/python/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="/python/css/theme-cdslab.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/python/js/jquery.navgoco.min.js"></script>
<!-- make sidebar non-accordion -->
<script src="/python/js/lockScrollbarPosition.js"></script>
<!-- make sidebar non-accordion -->
<script type="text/javascript">
    $(document).ready(function() {
        $('.sidenav').navgoco({
              accordion: false,
              caret: '<span class="caret"></span>',
              openClass: 'open',
              save: true,
              cookie: {
                  name: 'navgoco',
                  expires: false,
                  path: '/'
              },
              slide: {
                  duration: 400,
                  easing: 'swing'
              }
          });
    });
</script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<!--
-->
<script src="/python/js/toc.js"></script>
<script src="/python/js/customscripts.js"></script>
<link rel="shortcut icon" href="/python/images/favicon.ico">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="documentation-theme-jekyll" href="/python/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });
            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });
            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });
        });
    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div id="sticky" class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-book fa-lg navbar-brand" href="/python/index.html">&nbsp;<span class="projectTitle"> Scientific Computing with Python</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">CDSLab<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://www.cdslab.org/#about" target="_blank" rel="noopener">About</a></li>
                        
                        
                        
                        <li><a href="https://www.cdslab.org/people" target="_blank" rel="noopener">People</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Other Tutorials<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://www.cdslab.org/scientific-computing-with-matlab/" target="_blank" rel="noopener">Scientific Computing with MATLAB</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:shahmoradi@utexas.edu?subject=Scientific Computing with Python feedback&body=I have some feedback about the Lecture 10: Python advanced topics - IO, Monte Carlo, wrappers and interoperability page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Contact</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="/python/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: "/python/search.json",
                                searchResultTemplate: '<li><a href="https://www.cdslab.org{url}" title="Lecture 10: Python advanced topics - IO, Monte Carlo, wrappers and interoperability">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                
<ul id="mysidebar" class="sidenav">
    <!--
    -->
    <li class="sidebarTitle">Table of Pages </li>
    
        
            
        
            
                <li>
                    <a title="Overview" href="#"><b>Overview</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Preface" href="/python/notes/overview/preface/index.html">Preface</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Release note 1" href="/python/notes/overview/release-note-1/index.html">Release note 1</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Preliminary foundations" href="#"><b>Preliminary foundations</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Version control system" href="/python/notes/preliminary-foundations/version-control-system/index.html">Version control system</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Programming history" href="/python/notes/preliminary-foundations/programming-history/index.html">Programming history</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Computer program structure" href="/python/notes/preliminary-foundations/computer-program-structure/index.html">Computer program structure</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Python for beginners" href="/python/notes/preliminary-foundations/python-for-beginners/index.html">Python for beginners</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Values, variables, and types" href="#"><b>Values, variables, and types</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="First Python program" href="/python/notes/values-variables-types/first-python-program/index.html">First Python program</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Values in Python" href="/python/notes/values-variables-types/values-in-python/index.html">Values in Python</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Variables in Python" href="/python/notes/values-variables-types/variables-in-python/index.html">Variables in Python</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Control constructs" href="#"><b>Control constructs</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Branching" href="/python/notes/control-constructs/branching/index.html">Branching</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Looping" href="/python/notes/control-constructs/looping/index.html">Looping</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Program units" href="#"><b>Program units</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Functions" href="/python/notes/program-units/functions/index.html">Functions</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Modules" href="/python/notes/program-units/modules/index.html">Modules</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Data transfer (I/O)" href="#"><b>Data transfer (I/O)</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Data input methods" href="/python/notes/data-transfer/input/index.html">Data input methods</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Data output methods" href="/python/notes/data-transfer/output/index.html">Data output methods</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Errors and exceptions" href="#"><b>Errors and exceptions</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Exception handling" href="/python/notes/exceptions-errors/exception-handling/index.html">Exception handling</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Unit testing" href="/python/notes/exceptions-errors/unit-testing/index.html">Unit testing</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Scientific Computing" href="#"><b>Scientific Computing</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Vectorization and array computing" href="/python/notes/scientific-computing/vectorization/index.html">Vectorization and array computing</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Visualization and plotting" href="/python/notes/scientific-computing/visualization/index.html">Visualization and plotting</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
    
    <!-- if you aren't using the accordion, uncomment this block:
    -->
    <p class="external">
        <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
    </p>
</ul>
<!--
This highlights the active parent class in the navgoco sidebar. 
This is critical so that the parent expands when you're viewing a page.
This must appear below the sidebar code above.
Otherwise, if placed inside customscripts.js,
the script runs before the sidebar code runs and the class never gets inserted.
-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <article class="post" itemscope itemtype="https://schema.org/BlogPosting">

    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Lecture 10: Python advanced topics - IO, Monte Carlo, wrappers and interoperability</h1>
        <p class="post-meta"><time datetime="" itemprop="datePublished"></time> 

        </p>


    </header>

    <div class="post-content" itemprop="articleBody">

        

        <p>This lecture discusses some further important topics in Python IO, the use of random numbers and Monte Carlo simulations, as well as methods of integrating Python codes with codes from other programming languages, in particular, the use of Python as a wrapper for highly efficient, fast, low-level codes written in Fortran and C.</p>

<div class="post_toc"></div>

<h2 id="more-on-io-in-python">More on IO in Python</h2>

<p>There are a few topics and methods of <a href="https://en.wikipedia.org/wiki/Input/output" target="_blank">input/output (IO)</a> in Python that we have not discussed yet, such as reading data from special data files, or web pages. Such problems, happen almost daily in a scientific research career, even in High Performance Computing, and Python’s capability to easily handle such IO problems is indeed one of the main reasons for Python’s popularity.</p>

<h3 id="reading-data-from-special-data-files">Reading data from special data files</h3>

<p>It will happen quite often in your research that you will need to read data from a spreadsheet data file, most importantly <code class="highlighter-rouge">*.csv</code> and Microsoft Excel files (e.g., <code class="highlighter-rouge">*.xls</code> data files), or also frequently, from an <code class="highlighter-rouge">*.xml</code> data file. There are many ways and Python libraries to read such files. For Excel files, the task can be a bit complex, since Excel files can contain multiple sheets. A good starting point might be <a href="http://www.python-excel.org/" target="_blank">this webpage</a>, also <a href="http://pbpython.com/excel-pandas-comp.html" target="_blank">Pandas module</a>.</p>

<p>For CSV files, Python standard library has a solution. Suppose you want to read <a href="https://www.cdslab.org/lecture/10/jec_pdb_r4s.csv" target="_blank">this CSV file</a>. A Python solution would be the following,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'jec_pdb_r4s.csv'</span><span class="p">,</span><span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">myfile</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">counter</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">myfile</span><span class="p">)):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">counter</span><span class="o">&gt;</span><span class="mi">10</span><span class="p">:</span> <span class="k">break</span>
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>['pdb', 'pdb_id', 'chain', 'site', 'zr4s_JTT', 'r4s_JTT', 'zr4s_JC', 'r4s_JC']
['132L_A', '132L', 'A', '2', '-0.3133', '1.02', '0.04475', '1.188']
['132L_A', '132L', 'A', '3', '0.8385', '1.955', '0.2036', '1.311']
['132L_A', '132L', 'A', '4', '2.093', '2.973', '1.451', '2.272']
['132L_A', '132L', 'A', '5', '-0.8878', '0.5537', '-0.7985', '0.5382']
['132L_A', '132L', 'A', '6', '-1.443', '0.1028', '-1.426', '0.05416']
['132L_A', '132L', 'A', '7', '-0.1195', '1.177', '-0.07917', '1.093']
['132L_A', '132L', 'A', '8', '-0.7236', '0.6869', '-0.8997', '0.4602']
['132L_A', '132L', 'A', '9', '-1.107', '0.3755', '-0.8971', '0.4622']
['132L_A', '132L', 'A', '10', '0.7076', '1.848', '0.7369', '1.722']
['132L_A', '132L', 'A', '11', '0.9573', '2.051', '0.8809', '1.833']
['132L_A', '132L', 'A', '12', '-0.8315', '0.5993', '-0.9243', '0.4413']
</code></pre></div></div>

<p>Note how I have used Python <code class="highlighter-rouge">enumerate()</code> function to control the number of lines that is read from the file (The file contains more than 70000 lines of data!).</p>

<p>Similarly, if you wanted to write a CSV file, you can use <code class="highlighter-rouge">csv.writer()</code> method,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'jec_pdb_r4s.csv'</span><span class="p">,</span><span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s">'jec_out.csv'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">counter</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">infile</span><span class="p">)):</span>
        <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">outfile</span><span class="p">)</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">counter</span><span class="o">&gt;</span><span class="mi">10</span><span class="p">:</span> <span class="k">break</span>
</code></pre></div></div>

<p>The output of the code is <a href="https://www.cdslab.org/lecture/10/jec_out.csv" target="_blank">this file</a> (If you run this code on Windows machines, you will probably get an extra empty line between each row in the csv file).</p>

<p>For <code class="highlighter-rouge">*.xml</code> files, Python standard library has a package <a href="https://docs.python.org/3/library/xml.etree.elementtree.html" target="_blank">ElementTree</a>, which you can use for both parsing and writing xml data files.</p>

<h3 id="reading-data-from-web">Reading data from web</h3>
<p>Nowadays, a lot of data repositories are available online publicly, and you may encounter problems that need to parse data from an online repository. For many of the most famous repositories, such as the <a href="http://www.rcsb.org/pdb/home/home.do" target="_blank">Protein databank</a>, excellent python packages have been written that automate the process of fetching data from online pages or repositories (e.g., <a href="http://biopython.org/wiki/Biopython" target="_blank">Biopython</a>).</p>

<p>Nevertheless you may need at some point in your research or career to read data from a web address. Most often, the online data is contained in a <code class="highlighter-rouge">html</code> file, like the content of the <a href="" target="_blank">about page</a> for this course, for example, which has the address: <a href="https://www.cdslab.org/about" target="_blank">https://www.cdslab.org/ECL2017S/about</a>. Suppose you wanted to extract the content of this page. A simple solution would be the following via Python’s standard <a href="https://docs.python.org/3/library/urllib.html" target="_blank">urllib</a> module,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">urllib.request</span> <span class="k">as</span> <span class="n">ur</span>
<span class="n">myurl</span> <span class="o">=</span> <span class="s">'https://www.cdslab.org/ECL2017S/about'</span>
<span class="k">with</span> <span class="n">ur</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">myurl</span><span class="p">)</span> <span class="k">as</span> <span class="n">webfile</span><span class="p">:</span>
    <span class="n">webcontent</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">webfile</span><span class="o">.</span><span class="n">readlines</span><span class="p">()]</span>
</code></pre></div></div>

<p>Now the variable <code class="highlighter-rouge">webcontent</code> is a list, whose elements are each row in the html file for this page.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">webcontent</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>['<span class="cp">&lt;!DOCTYPE html&gt;</span>\n',
'<span class="nt">&lt;html&gt;</span>\n',
'<span class="nt">&lt;head&gt;</span>\n',
'<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>\n',
'<span class="nt">&lt;title&gt;</span>COE 111L - SPRING 2017<span class="nt">&lt;/title&gt;</span>\n',
'<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"description"</span> <span class="na">content=</span><span class="s">"Engineering Computation Lab"</span><span class="nt">&gt;</span>\n',
'<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"keywords"</span> <span class="na">content=</span><span class="s">"Amir, Shahmoradi, Instructor"</span><span class="nt">&gt;</span>\n',
'\n',
'<span class="c">&lt;!-- Twitter Cards --&gt;</span>\n',
'<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"twitter:card"</span> <span class="na">content=</span><span class="s">"summary_large_image"</span><span class="nt">&gt;</span>\n']
</code></pre></div></div>

<p>Note that the content of the file is read in <code class="highlighter-rouge">byte</code> format. Therefore, to convert it to string, one has to apply <code class="highlighter-rouge">.decode("utf-8")</code> on each line. Similar to opening a file on harddisk, one can also use <code class="highlighter-rouge">.read()</code> and <code class="highlighter-rouge">.readline()</code> methods to read the contant of the web address. Alternatively, one could also save the entire content of the web address, in a single file locally,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">urllib.request</span> <span class="k">as</span> <span class="n">ur</span>
<span class="n">myurl</span> <span class="o">=</span> <span class="s">'https://www.cdslab.org/ECL2017S/about'</span>
<span class="n">ur</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">myurl</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'about.html'</span><span class="p">)</span>
</code></pre></div></div>

<p>This will output <a href="https://www.cdslab.org/lecture/10/about.html" target="_blank">this file</a> in your current working diretory of Python.</p>

<p>Now, the file that we imported from the web does not contains any scientific data. But, in the homework you will see a real-world scientific example and value of Python’s ability to parse the content of web pages.<br />
<br /></p>

<h3 id="writing-data-in-html-web-format">Writing data in HTML (web) format</h3>
<p>Doing research at a professional level requires reporting the results professionally as well. That is, the results of the project, including the final report itself have to be <strong>auto-generated</strong> and <strong>reproducile</strong> as much as possible, and reachable to the widest audience (which nowadays means, availibility on the world-wide web).</p>

<p>Suppose you have worked on your final project for this course, which has resulted in several figures, that you wanted to put them all together on a single webpage in your repository on Github, together with some information about each figure. Let’s say the figures are
  <a href="https://www.cdslab.org/exam/2/figures/tvccZSliceSubplotWithXYlab_rad_00gy_1_t10.0.png" target="_blank">figure 1</a>
, <a href="https://www.cdslab.org/exam/2/figures/tvccZSliceSubplotWithXYlab_rad_00gy_2_t12.0.png" target="_blank">figure 2</a>
, <a href="https://www.cdslab.org/exam/2/figures/tvccZSliceSubplotWithXYlab_rad_00gy_3_t14.0.png" target="_blank">figure 3</a>
, <a href="https://www.cdslab.org/exam/2/figures/tvccZSliceSubplotWithXYlab_rad_00gy_4_t15.0.png" target="_blank">figure 4</a>
, <a href="https://www.cdslab.org/exam/2/figures/tvccZSliceSubplotWithXYlab_rad_00gy_5_t16.0.png" target="_blank">figure 5</a>
, <a href="https://www.cdslab.org/exam/2/figures/tvccZSliceSubplotWithXYlab_rad_00gy_6_t18.0.png" target="_blank">figure 6</a>
, <a href="https://www.cdslab.org/exam/2/figures/tvccZSliceSubplotWithXYlab_rad_00gy_7_t20.0.png" target="_blank">figure 7</a>.  Now, since these figures represent the time evolution of the growth of the tumor, you would wnat to write a code that automatically generates an HTML (or Markdown) files, which contains the correct HTML code for adding these figures in your page for the project. You could for example write the following Python code to achieve this goal,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'SampleProjectReport.html'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">html</span><span class="p">:</span>
    <span class="n">html</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'&lt;HTML&gt;&lt;BODY BGCOLOR="white"&gt;</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
    <span class="n">html</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'&lt;H1&gt;Sample Semester Project: Tumor growth modeling&lt;/H1&gt;&lt;br&gt; </span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
    <span class="n">html</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'&lt;H2&gt;Each of following subplots figure represents the stage of the growth of tumor at the specified date in the figure title.&lt;/H2&gt;&lt;br&gt;&lt;br&gt; </span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>

    <span class="n">time</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span><span class="mf">12.0</span><span class="p">,</span><span class="mf">14.0</span><span class="p">,</span><span class="mf">15.0</span><span class="p">,</span><span class="mf">16.0</span><span class="p">,</span><span class="mf">18.0</span><span class="p">,</span><span class="mf">20.0</span><span class="p">]</span>
    <span class="n">nfig</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="n">figReposPrefix</span> <span class="o">=</span> <span class="s">'https://www.cdslab.org/ECL2017S/exam/2/figures/tvccZSliceSubplotWithXYlab_rad_00gy_'</span>
    <span class="k">for</span> <span class="n">ifig</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">nfig</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">html</span><span class="o">.</span><span class="n">write</span><span class="p">(</span> <span class="s">'&lt;img src="{}{:d}_t{:.1f}.png" width="900px"&gt;&lt;br&gt;&lt;br&gt;</span><span class="se">\n</span><span class="s">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">figReposPrefix</span><span class="p">,</span><span class="n">ifig</span><span class="p">,</span><span class="n">time</span><span class="p">[</span><span class="n">ifig</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="p">)</span>
    <span class="n">html</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'&lt;H2&gt;Conclusions:&lt;/H2&gt;</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
    <span class="n">html</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'&lt;p&gt;Chances of survival for this rat are virtually zero.&lt;/p&gt;&lt;br&gt;</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
    <span class="n">html</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'&lt;/BODY&gt;&lt;/HTML&gt;</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
</code></pre></div></div>

<p>This code will generate an HTML file, which you can view in browser <a href="https://www.cdslab.org/lecture/10/SampleProjectReport.html" target="_blank">here</a>.</p>

<h2 id="random-numbers-in-python">Random numbers in Python</h2>
<p>One of the most important topics in todays’s science and computer simulation is <a href="https://en.wikipedia.org/wiki/Random_number_generation" target="_blank">random number generation</a> and <a href="https://en.wikipedia.org/wiki/Monte_Carlo_method" target="_blank">Monte Carlo simulation</a> methods. In the simplest scenario for your research, you may need to generate a sequence of uniformly distributed random numbers in Python. There are several approaches to handle such random number generation problems in Python. Here is one, via Python’s standard <code class="highlighter-rouge">random</code> module:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">In</span> <span class="p">[</span><span class="mi">43</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">random</span> <span class="k">as</span> <span class="n">rnd</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">44</span><span class="p">]:</span> <span class="n">rnd</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>   <span class="c"># generates a random number in the half open interval [0,1)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">44</span><span class="p">]:</span> <span class="mf">0.012519922307372311</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">45</span><span class="p">]:</span> <span class="n">rnd</span><span class="o">.</span>
<span class="n">rnd</span><span class="o">.</span><span class="n">BPF</span>             <span class="n">rnd</span><span class="o">.</span><span class="n">Random</span>          <span class="n">rnd</span><span class="o">.</span><span class="n">betavariate</span>     <span class="n">rnd</span><span class="o">.</span><span class="n">gauss</span>           <span class="n">rnd</span><span class="o">.</span><span class="n">normalvariate</span>   <span class="n">rnd</span><span class="o">.</span><span class="n">randrange</span>       <span class="n">rnd</span><span class="o">.</span><span class="n">shuffle</span>         <span class="n">rnd</span><span class="o">.</span><span class="n">weibullvariate</span>
<span class="n">rnd</span><span class="o">.</span><span class="n">LOG4</span>            <span class="n">rnd</span><span class="o">.</span><span class="n">SG_MAGICCONST</span>   <span class="n">rnd</span><span class="o">.</span><span class="n">choice</span>          <span class="n">rnd</span><span class="o">.</span><span class="n">getrandbits</span>     <span class="n">rnd</span><span class="o">.</span><span class="n">paretovariate</span>   <span class="n">rnd</span><span class="o">.</span><span class="n">sample</span>          <span class="n">rnd</span><span class="o">.</span><span class="n">triangular</span>
<span class="n">rnd</span><span class="o">.</span><span class="n">NV_MAGICCONST</span>   <span class="n">rnd</span><span class="o">.</span><span class="n">SystemRandom</span>    <span class="n">rnd</span><span class="o">.</span><span class="n">expovariate</span>     <span class="n">rnd</span><span class="o">.</span><span class="n">getstate</span>        <span class="n">rnd</span><span class="o">.</span><span class="n">randint</span>         <span class="n">rnd</span><span class="o">.</span><span class="n">seed</span>            <span class="n">rnd</span><span class="o">.</span><span class="n">uniform</span>
<span class="n">rnd</span><span class="o">.</span><span class="n">RECIP_BPF</span>       <span class="n">rnd</span><span class="o">.</span><span class="n">TWOPI</span>           <span class="n">rnd</span><span class="o">.</span><span class="n">gammavariate</span>    <span class="n">rnd</span><span class="o">.</span><span class="n">lognormvariate</span>  <span class="n">rnd</span><span class="o">.</span><span class="n">random</span>          <span class="n">rnd</span><span class="o">.</span><span class="n">setstate</span>        <span class="n">rnd</span><span class="o">.</span><span class="n">vonmisesvariate</span>
</code></pre></div></div>

<p>As you see in the list of available methods in <code class="highlighter-rouge">random</code>, you can generate random numbers from a wide variaty of univariate probability distributions, e.g.,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">In</span> <span class="p">[</span><span class="mi">46</span><span class="p">]:</span> <span class="n">rnd</span><span class="o">.</span><span class="n">betavariate</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>   <span class="c"># Beta variate with the input parameters</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">46</span><span class="p">]:</span> <span class="mf">0.9281984408820623</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">54</span><span class="p">]:</span> <span class="n">rnd</span><span class="o">.</span><span class="n">expovariate</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>         <span class="c"># random variable from exponential distribution with mean 1.</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">54</span><span class="p">]:</span> <span class="mf">2.546912414260747</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">55</span><span class="p">]:</span> <span class="n">rnd</span><span class="o">.</span><span class="n">gammavariate</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>      <span class="c"># random variable from gamma distribution with parameters 1,1.</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">55</span><span class="p">]:</span> <span class="mf">0.5364897808236537</span>
</code></pre></div></div>

<p>Recall that if you needed help on a method or function in Python, you could use <code class="highlighter-rouge">help()</code>,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">In</span> <span class="p">[</span><span class="mi">61</span><span class="p">]:</span> <span class="n">help</span><span class="p">(</span><span class="n">rnd</span><span class="o">.</span><span class="n">weibullvariate</span><span class="p">)</span>
<span class="n">Help</span> <span class="n">on</span> <span class="n">method</span> <span class="n">weibullvariate</span> <span class="ow">in</span> <span class="n">module</span> <span class="n">random</span><span class="p">:</span>

<span class="n">weibullvariate</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">)</span> <span class="n">method</span> <span class="n">of</span> <span class="n">random</span><span class="o">.</span><span class="n">Random</span> <span class="n">instance</span>
    <span class="n">Weibull</span> <span class="n">distribution</span><span class="o">.</span>

    <span class="n">alpha</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">scale</span> <span class="n">parameter</span> <span class="ow">and</span> <span class="n">beta</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">shape</span> <span class="n">parameter</span><span class="o">.</span>
</code></pre></div></div>

<p>To generate <code class="highlighter-rouge">float</code> random numbers between the given input bounds,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">In</span> <span class="p">[</span><span class="mi">64</span><span class="p">]:</span> <span class="n">rnd</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>    <span class="c"># generate a random float between 50 and 100</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">64</span><span class="p">]:</span> <span class="mf">65.59688328558263</span>
</code></pre></div></div>

<blockquote>
<b>ATTENTION: </b><br /><br />
Alwasy make sure you import modules with unique names, as different modules with similar component names may overwrite each other. For example <code>import random</code> followed by <code>from numpy import *</code> wil cause the <code>random</code> module to be overwritten by <code>numpy.random</code> module.
</blockquote>
<p><br />
Also pay attention to sublte differences between similar functions, with the same names, but in different modules. For example,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<p>will draw a random integer from the interval $[1,6)$ excluding the value $6$ (the third input, $1$, indicates how many numbers has to be drawn randomly by the function). However,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">random</span> <span class="k">as</span> <span class="n">rnd</span>
<span class="n">rnd</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</code></pre></div></div>

<p>will draw a random integer form the interval $[1,6]$. Also note that <code class="highlighter-rouge">randint()</code> from module <code class="highlighter-rouge">random</code> is a scalar function, whereas the numpy’s version is vectorized.</p>

<h3 id="the-deterministic-aspect-of-randomness-in-python">The deterministic aspect of randomness in Python</h3>
<p>There is a truth about random numbers and random number generators and algorithms, not only in Python, but in all programming languages, and that is, <strong>true random numbers do not exist in the world of programming</strong>. What we call a seuqence of random numbers, is simply a sequence of numbers that we, the user, to the best of our knowledge, don’t know how it was generated, and therefore, <strong>the sequence looks random to us, bu not the to the developer of the algorithm!</strong>. To prove this, type the following code in a Python session,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">In</span> <span class="p">[</span><span class="mi">13</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">14</span><span class="p">]:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">15</span><span class="p">]:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">15</span><span class="p">]:</span> <span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">16</span><span class="p">]:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">16</span><span class="p">]:</span> <span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">17</span><span class="p">]:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">18</span><span class="p">]:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">18</span><span class="p">]:</span> <span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</code></pre></div></div>

<p>You notice that everytime the random function is called, it generates a new sequence of random numbers, apparently completely random. But as soon as the function <code class="highlighter-rouge">np.random.seed(42)</code> is called, it appears that the random number generator also restarts from the beginning, generating the same sequence of random numbers as it did before.</p>

<p>You can even test the same code on a different computer, and as long as you set the seed of the random number generator to a specific value (here 42), <code class="highlighter-rouge">np.random.seed(42)</code>, you will the same sequence of random numbers. So afterall, random numbers are not random at all, as they can be generated detrerministically, however, they mimic the behavior of true random numbers. The ability to set the seed for a random number generator is actually very useful, since it enables us to replicate the work of a code, exactly it has been done in the past. In particular, this is very useful for code debugging. However, beware of cases were you need to get a different result, everytime you run the code. If you set the random seed of the random generator to to a fixed value, right at the beginning of the code, you will never get a random behavior.</p>

<h3 id="drawing-a-random-element-from-a-list">Drawing a random element from a list</h3>
<p>Suppose you have the following list,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">mylist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">51</span><span class="p">)</span>
</code></pre></div></div>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mylist</span>
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>array([   0.,    2.,    4.,    6.,    8.,   10.,   12.,   14.,   16.,
         18.,   20.,   22.,   24.,   26.,   28.,   30.,   32.,   34.,
         36.,   38.,   40.,   42.,   44.,   46.,   48.,   50.,   52.,
         54.,   56.,   58.,   60.,   62.,   64.,   66.,   68.,   70.,
         72.,   74.,   76.,   78.,   80.,   82.,   84.,   86.,   88.,
         90.,   92.,   94.,   96.,   98.,  100.])
</code></pre></div></div>

<p>and now you wanted to draw a random element from the above list. You could do,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">random</span> <span class="k">as</span> <span class="n">rnd</span>
<span class="n">rnd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>80.0 
</code></pre></div></div>

<p>This will give a random element from the list. You could also generate a random shuffling of the list by,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">random</span> <span class="k">as</span> <span class="n">rnd</span>
<span class="n">rnd</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
<span class="n">mylist</span>
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>array([  98.,   12.,   76.,   60.,   46.,   22.,   24.,   92.,   66.,
         16.,    6.,   34.,   14.,    8.,   18.,   50.,   30.,   74.,
          4.,    2.,   38.,   90.,   70.,   56.,   94.,   80.,   32.,
         20.,   10.,   44.,   72.,   84.,    0.,   78.,  100.,   88.,
         86.,   96.,   48.,   52.,   62.,   64.,   26.,   36.,   40.,
         54.,   68.,   58.,   82.,   42.,   28.])
</code></pre></div></div>

<p><br /></p>

<h3 id="summary-of-some-important-random-functions-in-python">Summary of some important random functions in Python</h3>
<p>As you may have noticed, since none of the random functions are builtin, things can get really confusing very easily, by simply mixing numpy’s random mdule with Python’s random module. The following helps to clarify some of the most important differences between these two modules.</p>

<table class="center">
<caption class="title" style="padding-bottom:10px">
Table 1: Some useful functions and their functionalities in <code>random</code> and <code>numpy</code> modules
</caption>
<thead>
<tr>
<th>Purpose</th>
<th>random module</th>
<th>numpy.random module</th>
</tr>
</thead>
<tbody>
<tr>
    <td>random uniform numbers in $[0,1)$</td>
    <td><code>random()</code></td>
    <td><code>random(N)</code> (vectorized)</td>
</tr>
<tr>
    <td>random uniform numbers in $[a,b)$</td>
    <td><code>uniform(a,b)</code></td>
    <td><code>uniform(a,b,N)</code> (vectorized)</td>
</tr>
<tr>
    <td>random integers in $[a,b]$</td>
    <td><code>randint(a,b)</code></td>
    <td><code>randint(a,b+1,N)</code> (vectorized) <br /> <code>random_integers(a,b+1,N)</code> (vectorized) </td>
</tr>
<tr>
    <td>random Gaussian deviate with parameters $[\mu, \sigma]=[m,s]$</td>
    <td><code>gauss(m,s)</code></td>
    <td><code>normal(m,s,N)</code> (vectorized)</td>
</tr>
<tr>
    <td>setting random number generator seed $i$</td>
    <td><code>seed(i)</code></td>
    <td><code>seed(i)</code></td>
</tr>
<tr>
    <td>shuffling list mylist</td>
    <td><code>shuffle(mylist)</code></td>
    <td><code>shuffle(mylist)</code></td>
</tr>
<tr>
    <td>choose a random element from mylist</td>
    <td><code>choice(mylist)</code></td>
    <td> -- </td>
</tr>
</tbody>
</table>
<p><br /></p>

<h3 id="monte-carlo-simulations">Monte Carlo simulations</h3>
<p>A Monte Carlo simulation is basically any simulation problem that somehow involves random numbers. Let’s start with an example of throwing a die repeatedly for N times. We can simulate the process of throwing a die by the following python code,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">throwFairDie</span><span class="p">():</span>
    <span class="kn">import</span> <span class="nn">random</span> <span class="k">as</span> <span class="n">rnd</span>
    <span class="k">return</span> <span class="n">rnd</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</code></pre></div></div>

<p>Now, each time the function is called, it returns a random value for one throw of a virtual die,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="n">throwFairDie</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="mi">6</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="n">throwFairDie</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="mi">1</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="n">throwFairDie</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="mi">4</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="n">throwFairDie</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="mi">1</span>
</code></pre></div></div>

<p>This is likely one of the simplest examples of <a href="https://en.wikipedia.org/wiki/Monte_Carlo_method" target="_blank">Monte Carlo simulations</a>. Now suppose we wanted to make sure that the die is fair, meaning that each number (out of 6 possibilities) only appears with a frequency of $1/6$ over many throws of the die. To test this hypothesis, we could write the following code,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="k">def</span> <span class="nf">throwFairDie</span><span class="p">():</span>
    <span class="kn">import</span> <span class="nn">random</span> <span class="k">as</span> <span class="n">rnd</span>
    <span class="k">return</span> <span class="n">rnd</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">getMeanDieValue</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">10000</span><span class="p">):</span>
    <span class="n">meanDieValue</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">n</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    <span class="n">randomThrow</span> <span class="o">=</span> <span class="n">throwFairDie</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span>        <span class="c"># assign the first value to the above array</span>
    <span class="n">meanDieValue</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">randomThrow</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="mf">1.0</span> <span class="c"># one try so far, one success for the die value that is obtained.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
        <span class="n">randomThrow</span> <span class="o">=</span> <span class="n">throwFairDie</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">meanDieValue</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">randomThrow</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>   <span class="c"># add one success for the value obtained</span>
        <span class="n">meanDieValue</span><span class="p">[</span><span class="n">i</span><span class="p">,:]</span> <span class="o">+=</span> <span class="n">meanDieValue</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,:]</span>    <span class="c"># combine the recent success with the total number of successes from previous tries.</span>
        <span class="n">meanDieValue</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,:]</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c"># Now normalize the values form the last try to the total number of tries.</span>
    <span class="n">meanDieValue</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:,:]</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>  <span class="c"># Now normalize the very last try to the total number of tries.</span>
    <span class="k">return</span> <span class="n">meanDieValue</span>
</code></pre></div></div>

<p>What this function does, is that it throws a die for given input number of times (n=10000 by default if not given as input), and then calculates for each new try, how many times each of the die values have occurred so far, and then finally outputs all the result as numpy <code class="highlighter-rouge">double</code> array, each row of which contains the number of successes for each of the 6 die values. Normally, if the die is fair, you would expect that with more tries, the average number of successes for each try would converge more and more to the canonical value $1/6\sim0.1667$. We can test this, by calling the function with a large number of tries, and checking the values in the last row of the output array,</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span> <span class="n">getMeanDieValue</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">:,:]</span> <span class="p">)</span>
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[ 0.1645  0.1668  0.1683  0.1664  0.169   0.165 ]]
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span> <span class="n">getMeanDieValue</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">100000</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">:,:]</span> <span class="p">)</span>
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[ 0.16488  0.1665   0.16635  0.16841  0.1661   0.16776]]
</code></pre></div></div>

<p>A better approach would be plot the output as a function of the number of tries, and see if the results for each of possible die outcomes do indeed converge to the canonical value or not.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">nDieValues</span> <span class="o">=</span> <span class="mi">6</span> <span class="c"># 6 possible values for a die throw</span>
<span class="n">nTrial</span> <span class="o">=</span> <span class="mi">100000</span> <span class="c"># total number of die throws</span>
<span class="n">meanDieValues</span> <span class="o">=</span> <span class="n">getMeanDieValue</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">nTrial</span><span class="p">)</span>

<span class="n">fig1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">trial</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="n">nTrial</span><span class="o">+</span><span class="mi">1</span> <span class="p">,</span> <span class="n">nTrial</span> <span class="p">)</span>
<span class="n">lineTypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">'r-'</span><span class="p">,</span><span class="s">'b-'</span><span class="p">,</span><span class="s">'g-'</span><span class="p">,</span><span class="s">'y-'</span><span class="p">,</span><span class="s">'b-'</span><span class="p">,</span><span class="s">'g-'</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="n">nDieValues</span> <span class="p">)</span> <span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span> <span class="n">trial</span><span class="p">[:]</span> \
            <span class="p">,</span> <span class="n">meanDieValues</span><span class="p">[:,</span><span class="n">i</span><span class="p">]</span> \
            <span class="p">,</span> <span class="n">lineTypes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> \
            <span class="p">)</span> <span class="c"># plot with color red, as line</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hold</span><span class="p">(</span><span class="s">'on'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'trial number'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'fraction of occurrence for each die number'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'die value: '</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span> <span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">nTrial</span> <span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span> <span class="c"># [xmin, xmax, ymin, ymax]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'N={} throws of a virtual die in Python'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nTrial</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'diceThrowsN{}.png'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nTrial</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>You can see the output of the above code in the following figure,</p>
<figure>
	<img src="https://www.cdslab.org/lecture/10/diceThrowsN100000.png" width="900" />
</figure>
<p><br /></p>

<h2 id="python-wrappers-and-interfaces">Python wrappers and interfaces</h2>
<p>Python is a very convenient language for implementing scientific computations as the code can be made very close to the mathematical algorithms. However, the execution speed of the code is significantly lower than what can be obtained by
programming in languages such as Fortran, C, or C++. For example see the following performance comparisons and tests in <a href="https://modelingguru.nasa.gov/docs/DOC-1762" target="_blank">NASA modeling guru webpage</a>. As you can see there, the <strong>performance of Python code can be significantly lower, up to 500 times and more, compared to compiled languages such as Fortran and C</strong>. These languages compile the program to machine language, which enables the computing resources to be utilized with very high efficiency. Knowing the performance hit in Python, the scientific programming paradigm in Python is to write compute-intensive parts of the code in lower level languages such as Fortran or C, and use Python as wrapper and glue between lower level codes and as a handy tool for high-level tasks.</p>

<p>Python was initially designed for being integrated with C. This feature has spawned the development of several techniques and tools for calling compiled languages from Python, allowing us to relatively easily reuse fast and
well-tested scientific libraries in Fortran, C, or C++ from Python, or migrate slow Python code to compiled languages. It often turns out that only smaller parts of the code, usually for loops doing heavy numerical computations, suffer from low speed and can benefit from being implemented in Fortran, C, or C++.</p>

<p>There are already several Python wrappers developed for integrating Python with other programming language codes. Most prominent examples include <a href="https://docs.scipy.org/doc/numpy-dev/f2py/" target="_blank">F2PY</a> for Fortran and C codes, <a href="http://www.swig.org/" target="_blank">SWIG</a> for C, C++, Perl, Java, and many others, <a href="http://cython.org/" target="_blank">Cython</a> for C, <a href="http://www.jython.org/" target="_blank">Jython</a> for Java, and several others.</p>

<p>The usage of some of these wrappers can be tricky and requires some work and good familiarity with the wrapper. This is in particular true about SWIG, which involves a significant amount of manual modifications to the interfaces, compared to F2PY, for example. At the moment, F2PY only works with Python 2.x standard.</p>

<p>There is also a Python module <a href="http://pymat.sourceforge.net/" target="_blank">pymat</a> developed for direct interaction of Python code with MATLAB.</p>

<p><br /><br /></p>

    </div>



</article>



    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'shahmoradi'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




<hr class="shaded"/>

<footer>
    <div class="row">
        <div class="col-lg-12 footer">
            &copy;2019 <a href="https://www.cdslab.org" target="_blank">Computational Data Science Lab</a><br />
         Site last generated: Jul 15, 2019 <br />
        <p>
            <img class="footerlogo" src="/python/images/logo.png" }}" alt="cdslab.org" />
        </p>
        </div>
    </div>
    <!--Mathjax LaTeX engine-->
    
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
